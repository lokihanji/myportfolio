import{r as n,a as c,j as e,H as f}from"./app-Cw1WlnJ1.js";import{A as b,I as C,X as _}from"./app-layout-h20twprR.js";import{P as A,S as M}from"./square-pen-DqCt8f0H.js";import{T as L}from"./trash-2-Ca3Dhw8M.js";import{E as V}from"./eye-CI0ISNEL.js";import{D as R}from"./download-DUlP6HHc.js";import{S as T}from"./save-DlgAlu7t.js";/* empty css            */import"./utils-BCn8N8Rh.js";import"./log-out-B_6FAXi3.js";import"./user-CfwbQxtq.js";import"./mail-nLmt2Cua.js";const y=[{title:"Dashboard",href:"/dashboard"},{title:"Portfolio Management",href:"/admin/portfolio"}];function K(){const[j,x]=n.useState(!1),[t,g]=n.useState(null),[l,d]=n.useState([]),[v,N]=n.useState(!0),[u,h]=n.useState(!1),w=["Web Development","Mobile Design","Database","UI/UX","Graphics","Other"];n.useEffect(()=>{I()},[]);const I=async()=>{try{const r=await c.get("/api/admin/portfolio");d(r.data)}catch(r){console.error("Error loading portfolio items:",r)}finally{N(!1)}},k=()=>{x(!0)},S=r=>{g(r)},D=async r=>{try{await c.delete(`/api/admin/portfolio/${r}`),d(l.filter(a=>a.id!==r))}catch(a){console.error("Error deleting portfolio item:",a)}},P=async r=>{h(!0);try{if(t){const a=await c.put(`/api/admin/portfolio/${t}`,r);d(l.map(o=>o.id===t?a.data:o)),g(null)}else{const a=await c.post("/api/admin/portfolio",r);d([...l,a.data]),x(!1)}}catch(a){console.error("Error saving portfolio item:",a)}finally{h(!1)}},E=()=>{x(!1),g(null)},p=async(r,a)=>{const o=l.findIndex(i=>i.id===r);if(o===-1)return;const s=[...l];a==="up"&&o>0?[s[o],s[o-1]]=[s[o-1],s[o]]:a==="down"&&o<s.length-1&&([s[o],s[o+1]]=[s[o+1],s[o]]),s.forEach((i,m)=>{i.order=m+1}),d(s);try{await c.post("/api/admin/portfolio/reorder",{portfolioItems:s.map((i,m)=>({id:i.id,order:m+1}))})}catch(i){console.error("Error updating order:",i)}};return v?e.jsxs(b,{breadcrumbs:y,children:[e.jsx(f,{title:"Portfolio Management"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:e.jsx("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:e.jsx("div",{className:"rounded-2xl border border-gray-700/50 bg-gray-800/30 p-8 backdrop-blur-sm shadow-2xl",children:e.jsx("div",{className:"text-center text-white",children:"Loading portfolio items..."})})})})]}):e.jsxs(b,{breadcrumbs:y,children:[e.jsx(f,{title:"Portfolio Management"}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto rounded-xl p-6",children:[e.jsx("div",{className:"rounded-2xl border border-gray-700/50 bg-gray-800/30 p-6 backdrop-blur-sm shadow-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"bg-gradient-to-r from-green-400 to-blue-400 bg-clip-text text-3xl font-bold text-transparent",children:"Portfolio Management"}),e.jsx("p",{className:"mt-2 text-gray-300",children:"Manage your portfolio items and showcase your work"})]}),e.jsxs("button",{onClick:k,className:"flex items-center space-x-2 rounded-xl bg-gradient-to-r from-green-600 to-blue-600 px-6 py-3 text-white transition-all duration-300 hover:from-green-700 hover:to-blue-700 hover:shadow-lg shadow-lg",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Portfolio Item"})]})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.map(r=>e.jsxs("div",{className:"rounded-2xl border border-gray-700/50 bg-gray-800/30 backdrop-blur-sm shadow-2xl hover:shadow-3xl transition-all duration-300",children:[e.jsxs("div",{className:"relative mb-4 h-48 rounded-xl bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center overflow-hidden",children:[r.image?e.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"}):e.jsx(C,{className:"h-16 w-16 text-gray-500"}),r.is_active&&e.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-gradient-to-r from-green-500 to-blue-500 text-white text-xs font-bold rounded-lg",children:"Active"}),e.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-gray-800/80 text-gray-300 text-xs font-medium rounded-lg",children:["#",r.order]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:r.title}),e.jsx("p",{className:"text-sm text-gray-300 line-clamp-2",children:r.description})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[e.jsx("button",{onClick:()=>S(r.id),className:"p-2 text-gray-400 hover:text-green-400 transition-colors duration-200 rounded-lg hover:bg-gray-700/50",children:e.jsx(M,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>D(r.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors duration-200 rounded-lg hover:bg-gray-700/50",children:e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"px-3 py-1 bg-gray-700/50 border border-gray-600/50 rounded-lg text-xs text-gray-300",children:r.category}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(r.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((a,o)=>e.jsx("span",{className:"px-2 py-1 bg-gray-700/50 border border-gray-600/50 rounded-lg text-xs text-gray-300",children:a},o))}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>p(r.id,"up"),disabled:r.order===1,className:"px-2 py-1 bg-gray-700/50 hover:bg-gray-600/50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-300 hover:text-white rounded-lg transition-colors duration-200 text-xs",children:"↑"}),e.jsx("button",{onClick:()=>p(r.id,"down"),disabled:r.order===l.length,className:"px-2 py-1 bg-gray-700/50 hover:bg-gray-600/50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-300 hover:text-white rounded-lg transition-colors duration-200 text-xs",children:"↓"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-400 transition-colors duration-200 rounded-lg hover:bg-gray-700/50",children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-green-400 transition-colors duration-200 rounded-lg hover:bg-gray-700/50",children:e.jsx(R,{className:"h-4 w-4"})})]})]})]})]},r.id))}),(j||t)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-2xl border border-gray-700/50 p-6 w-full max-w-2xl mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:t?"Edit Portfolio Item":"Add New Portfolio Item"}),e.jsxs("form",{onSubmit:r=>{r.preventDefault();const a=new FormData(r.currentTarget),o={id:t||0,title:a.get("title"),description:a.get("description"),category:a.get("category"),image:a.get("image"),url:a.get("url")||void 0,tags:a.get("tags").split(",").map(s=>s.trim()).filter(s=>s),is_active:a.get("is_active")==="on",order:t?l.find(s=>s.id===t)?.order||1:l.length+1,created_at:t?l.find(s=>s.id===t)?.created_at||"":new Date().toISOString()};P(o)},className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),e.jsx("input",{type:"text",name:"title",defaultValue:t?l.find(r=>r.id===t)?.title:"",className:"w-full rounded-xl border border-gray-600/50 bg-gray-700/30 px-4 py-3 text-white placeholder-gray-400 transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none",placeholder:"e.g., Web Development Showcase"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),e.jsxs("select",{name:"category",defaultValue:t?l.find(r=>r.id===t)?.category:"",className:"w-full rounded-xl border border-gray-600/50 bg-gray-700/30 px-4 py-3 text-white transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Category"}),w.map(r=>e.jsx("option",{value:r,children:r},r))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{name:"description",rows:3,defaultValue:t?l.find(r=>r.id===t)?.description:"",className:"w-full resize-none rounded-xl border border-gray-600/50 bg-gray-700/30 px-4 py-3 text-white placeholder-gray-400 transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none",placeholder:"Describe your portfolio item..."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image URL"}),e.jsx("input",{type:"url",name:"image",defaultValue:t?l.find(r=>r.id===t)?.image:"",className:"w-full rounded-xl border border-gray-600/50 bg-gray-700/30 px-4 py-3 text-white placeholder-gray-400 transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none",placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project URL"}),e.jsx("input",{type:"url",name:"url",defaultValue:t?l.find(r=>r.id===t)?.url:"",className:"w-full rounded-xl border border-gray-600/50 bg-gray-700/30 px-4 py-3 text-white placeholder-gray-400 transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none",placeholder:"https://example.com/project"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),e.jsx("input",{type:"text",name:"tags",defaultValue:t?l.find(r=>r.id===t)?.tags.join(", "):"",className:"w-full rounded-xl border border-gray-600/50 bg-gray-700/30 px-4 py-3 text-white placeholder-gray-400 transition-all duration-300 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 focus:outline-none",placeholder:"e.g., Laravel, React, Modern UI (comma separated)"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"is_active",id:"is_active",defaultChecked:t?l.find(r=>r.id===t)?.is_active:!0,className:"rounded border-gray-600 bg-gray-700/30 text-green-500 focus:ring-green-500 focus:ring-2"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-300",children:"Active Item"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[e.jsxs("button",{type:"button",onClick:E,className:"px-6 py-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-xl transition-all duration-300 border border-gray-600/50",children:[e.jsx(_,{className:"h-5 w-5 inline mr-2"}),"Cancel"]}),e.jsxs("button",{type:"submit",disabled:u,className:"flex items-center space-x-2 rounded-xl bg-gradient-to-r from-green-600 to-blue-600 px-6 py-3 text-white transition-all duration-300 hover:from-green-700 hover:to-blue-700 hover:shadow-lg shadow-lg disabled:opacity-50",children:[e.jsx(T,{className:"h-5 w-5"}),e.jsx("span",{children:u?"Saving...":"Save Portfolio Item"})]})]})]})]})})]})})]})}export{K as default};
